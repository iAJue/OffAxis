<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GLB 最小示例（切换模型）</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        overflow: hidden;
        background: #0b1220;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      }
      #c {
        width: 100%;
        height: 100%;
        display: block;
      }
      #ui {
        position: fixed;
        top: 12px;
        left: 12px;
        display: flex;
        gap: 8px;
        align-items: center;
        padding: 10px 12px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(10, 18, 34, 0.72);
        color: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        backdrop-filter: blur(10px);
      }
      #ui select,
      #ui button {
        background: rgba(255, 255, 255, 0.08);
        color: rgba(255, 255, 255, 0.92);
        border: 1px solid rgba(255, 255, 255, 0.14);
        border-radius: 8px;
        padding: 6px 10px;
        outline: none;
      }
      #ui .toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        user-select: none;
        cursor: pointer;
        padding: 4px 8px;
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.06);
      }
      #ui input[type="checkbox"] {
        width: 14px;
        height: 14px;
        accent-color: #f472b6;
      }
      #ui input[type="range"] {
        width: 120px;
      }
      #ui .small {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.72);
      }
      #status {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.72);
        min-width: 160px;
      }
      #webcamPane {
        position: fixed;
        right: 12px;
        bottom: 12px;
        width: 180px;
        border-radius: 12px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(10, 18, 34, 0.72);
        display: none;
      }
      #webcamPane video {
        width: 100%;
        height: auto;
        display: block;
        transform: scaleX(-1);
      }
    </style>

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
      }
    </script>
  </head>
  <body>
    <div id="ui">
      <label for="modelSelect">模型</label>
      <select id="modelSelect"></select>
      <label class="toggle" title="卡通分层光照 + 描边 + 粒子">
        <input id="animeToggle" type="checkbox" checked />
        场景
      </label>
      <label class="toggle" title="显示房间环境（墙/地/顶/窗光）">
        <input id="roomToggle" type="checkbox" checked />
        房间
      </label>
      <label class="toggle" title="离轴投影（off-axis）+ 头动追踪（单人）">
        <input id="offAxisToggle" type="checkbox" />
        裸眼3D
      </label>
      <label class="small" title="头动幅度（鼠标也可模拟）">
        强度
        <input id="parallaxGain" type="range" min="0" max="2" step="0.01" value="1" />
      </label>
      <button id="trackBtn" type="button">开启追踪</button>
      <button id="reloadBtn" type="button">重载</button>
      <div id="status"></div>
    </div>
    <canvas id="c"></canvas>
    <div id="webcamPane" aria-hidden="true">
      <video id="webcam" autoplay playsinline muted></video>
    </div>

    <script type="module" src="./js/main.js"></script>
  </body>
</html>
